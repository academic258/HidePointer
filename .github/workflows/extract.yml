name: Extract mod.zip
on: [pull_request, push]

jobs:
  extract:
    runs-on: ubuntu-24.04
    steps:
      - name: Checkout repository
        uses: actions/checkout@v4
      
      - name: Extract mod.zip to repository root
        run: |
          # æ£€æŸ¥mod.zipæ˜¯å¦å­˜åœ¨
          if [ ! -f "mod.zip" ]; then
            echo "âŒ Error: mod.zip not found in repository root!"
            echo "Available files:"
            ls -la
            exit 1
          fi
          
          echo "ğŸ“¦ Found mod.zip, starting extraction..."
          
          # æ˜¾ç¤ºzipæ–‡ä»¶ä¿¡æ¯
          echo "ğŸ“Š Zip file details:"
          unzip -l mod.zip | head -20
          
          # è§£å‹åˆ°å½“å‰ç›®å½•ï¼ˆä»“åº“æ ¹ç›®å½•ï¼‰
          echo "ğŸš€ Extracting mod.zip to repository root..."
          unzip -o mod.zip
          
          # æ¸…ç†å‹ç¼©åŒ…ï¼ˆå¯é€‰ï¼‰
          # echo "ğŸ§¹ Cleaning up..."
          # rm mod.zip
          
          echo "âœ… Extraction complete!"
          echo "ğŸ“ Current directory contents:"
          ls -la
